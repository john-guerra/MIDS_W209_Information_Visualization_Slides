<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Week 8 Networks and Color. MIDS W209 Information Visualization Slides</title>
    <meta charset="utf-8">
    <meta name="author" content="John Alexis Guerra Gómez">
    <meta name="description" content="Week 8 Networks and Color. MIDS W209 Information Visualization Slides">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fjalla+One|Raleway|PT+Sans+Narrow">
    <link rel="stylesheet" href="https://use.typekit.net/yjc0afr.css">
    <link rel="stylesheet" href="../plugin/highlight/monokai.css" id="highlight-theme">
    <link href="../css/reveal.css" rel="stylesheet">
    <link href="../css/theme/white.css" rel="stylesheet" id="theme">
    <link href="../css/style.css" rel="stylesheet">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1 class="title">Networks and Color<br><small>MIDS W209: Information Visualization</small></h1>
          <div class="r-stretch"></div>
          <div class="tiny"><a href="https://johnguerra.co/" target="_blank"><strong> John Alexis Guerra Gómez</strong></a><span> |  john.guerra[at]gmail.com</span><a href="https://twitter.com/duto_guerra"> |  @duto_guerra</a><br><a href="https://andyreagan.com/" target="_blank"><strong> Andy Reagan</strong></a><span> |  andy[at]andyreagan.com</span><a href="https://twitter.com/andyreagan"> |  @andyreagan</a><br><a href="https://johnguerra.co/lectures/MIDS_W209_Information_Visualization/08_Networks_and_Trees/" target="_blank">https://johnguerra.co/lectures/MIDS_W209_Information_Visualization/08_Networks_and_Trees/</a></div>
          <div class="logo"><a href="https://datascience.berkeley.edu/"><img class="logo" data-src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></a></div>
          <div class="tiny">Partially based on<a href="https://www.cs.ubc.ca/~tmm/talks.html#minicourse14"> slides from Tamara Munzner</a></div>
        </section>
        <section id="outline">
          <section class="full">
            <h2>Arrange Networks and Trees</h2><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/how_networks_and_trees.png" alt="How Networks and Trees">
          </section>
          <section>
            <h2>What We Are Going to Learn</h2>
            <ul class="small small">
              <li class="fragment">How to recognize, create, and store networks</li>
              <li class="fragment">Algorithms to visualize network data</li>
              <li class="fragment">How to use color</li>
            </ul>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="networkBasics">
          <section>
            <h1>Networks: Basics</h1>
          </section>
          <section style="text-align: left">
            <h3>Define Networks</h3>
            <div>
              <p>Networks are defined by two things: nodes and links.</p><br>
              <p><strong>Nodes</strong>: a collection of entities which have properties that are somehow related to each other</p>
              <ul class="small small">
                <li>E.g., people, forks in rivers, proteins, web pages, organisms, etc.</li>
              </ul>
              <p><strong>Edges</strong>: connections between nodes</p>
              <ul class="small small">
                <li>Links may be directed or undirected</li>
                <li>Links may be binary or weighted</li>
              </ul>
            </div>
          </section>
          <section>
            <h2>Just Some Examples</h2>
            <ul>
              <li>Tournaments</li>
              <li>Organization charts</li>
              <li>Genealogy</li>
              <li>Diagramming (e.g., Visio)</li>
              <li>Biological interactions (genes, proteins)</li>
              <li>Computer networks</li>
              <li>Social networks</li>
              <li>Simulation and modeling</li>
              <li>Integrated circuit design</li>
              <li>River systems</li>
              <li><a href="http://www.uvm.edu/pdodds/teaching/courses/coconuts/slides/complex-networks/">Many, many more (and some history)</a></li>
            </ul>
          </section>
          <section>
            <h3>How to Store Network Data</h3>
            <ul class="small small">
              <li class="fragment">Node and link files</li>
              <li class="fragment">Adjacency matrix</li>
              <li class="fragment">Nested: XML/JSON</li>
              <li class="fragment">Flat</li>
              <li class="fragment"><a target="_blank" href="https://networkx.github.io/documentation/stable/reference/readwrite/index.html">Many others: list of formats from NetworkX</a></li>
            </ul>
          </section>
          <section>
            <h3>Node and Link Files</h3><img data-src="../shared_images/networks/edgelist.png" alt="Edge List">
          </section>
          <section>
            <h3>Node and Link Files (cont.)</h3><img data-src="../shared_images/networks/adjacencylist.png" alt="Adjacency List">
          </section>
          <section>
            <h3>Adjacency Matrix</h3>
            <div class="scrollable-slide"><img style="width: auto; max-height: 1000px;" data-src="../shared_images/networks/adjacencymatrix.png" alt="Adjacency Matrix"></div>
          </section>
          <section>
            <h3>Nested: XML/JSON</h3>
            <div class="scrollable-slide"><img style="width: auto; max-height: 1000px;" data-src="../shared_images/networks/graphml.png" alt="GraphML"></div>
          </section>
          <section>
            <h3>How to Create Network Data</h3>
            <ul>
              <li class="fragment">Group by common attribute.</li>
              <li class="fragment">Identify nodes, extract links.</li>
            </ul>
          </section>
          <section style="text-align: left">
            <h3>From Flat Data</h3>
            <p>Say we have tabular data for Les Miserables with columns for "scene", "character", and "line". We want to examine the network of which characters co-occur in scenes. Take all unique characters are nodes and link between all characters in a scene together.</p>
            <ul>
              <li>JS: <code>d3.nest().key(function(d) { return d.scene; })</code>.</li>
              <li>Python: <code>pd.groupby('scene')</code>.</li>
            </ul>
          </section>
          <section>
            <h3>Identify Nodes, Extract Links</h3>
            <p>Social network data extract</p>
            <ul>
              <li>Loop through all of the messages.</li>
              <li>Add to a list of all users.</li>
              <li>Add to an edge list that has all "mentions" of another user.</li>
            </ul>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="forceSimulations">
          <section>
            <h1>Networks: Force Simulations</h1>
          </section>
          <section class="full">
            <h3>Idiom: Force-Directed Placement</h3>
            <div class="flex">
              <div class="third">
                <ul class="tiny">
                  <li class="fragment"><strong>Visual encoding:</strong>
                    <ul>
                      <li>Link connection marks, node point marks</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Tasks:</strong>
                    <ul>
                      <li>Explore topology; locate paths, clusters</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Scalability:</strong>
                    <ul>
                      <li>Node/edge density E < 4N</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Considerations:</strong>
                    <ul>
                      <li>Spatial position no meaning directly encoded</li>
                      <li>Proximity semantics?</li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div class="twothirds">
                <div>
                  <div id="observablehq-6b30ef20" >
                    <div class="observablehq-chart" style="width:200%; margin-left:-50%" ></div>
                    <div style="overflow: hidden;" ><a style="display: block; float:right;" href="https://observablehq.com/@d3/disjoint-force-directed-graph"><object type="image/svg+xml" style="pointer-events: none;" width=180 height=22 data="https://static.observableusercontent.com/files/c3fab254a006f1a3a1f9f63aba8ab1460db4752529036b9962950bde0ec195bab823daa6b278b1c3401e545b3bd640ddfdcad805cf9859af218cb2b9fed4ddf0"></object></a></div>
                  </div>
                  <script type="module">
                    import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                    import define from "https://api.observablehq.com/@d3/disjoint-force-directed-graph.js?v=3";
                    (new Runtime).module(define, name => {
                      if (name === "chart") return Inspector.into("#observablehq-6b30ef20 .observablehq-chart")();
                    });
                  </script>
                  
                </div>
              </div>
            </div>
          </section>
          <section class="full">
            <h3>Force simulation explained</h3>
            <div class="demo">
              <div id="observablehq-03e24038">
                <div class="observablehq-viewof-forces"></div>
                <div class="observablehq-viewof-r"></div>
                <div class="observablehq-viewof-dataset"></div>
                <div class="observablehq-chart"></div>
                <div style="overflow: hidden;"><a style="display: block; float:right;" href="https://observablehq.com/@john-guerra/choose-your-forces"><object type="image/svg+xml" style="pointer-events: none;" width=180 height=22 data="https://static.observableusercontent.com/files/c3fab254a006f1a3a1f9f63aba8ab1460db4752529036b9962950bde0ec195bab823daa6b278b1c3401e545b3bd640ddfdcad805cf9859af218cb2b9fed4ddf0"></object></a></div>
              </div>
              <script type="module">
                import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                import define from "https://api.observablehq.com/@john-guerra/choose-your-forces.js?v=3";
                (new Runtime).module(define, name => {
                  if (name === "viewof forces") return Inspector.into("#observablehq-03e24038 .observablehq-viewof-forces")();
                  if (name === "viewof r") return Inspector.into("#observablehq-03e24038 .observablehq-viewof-r")();
                  if (name === "viewof dataset") return Inspector.into("#observablehq-03e24038 .observablehq-viewof-dataset")();
                  if (name === "chart") return Inspector.into("#observablehq-03e24038 .observablehq-chart")();
                });
              </script>
              
            </div>
          </section>
          <section class="full">
            <h3 class="demo">Force in a Box</h3>
            <div class="demo">
              <div id="observablehq-ca11e9c8">
                <div style="display:flex">
                  <div class="observablehq-viewof-useGroupInABox"></div>
                  <div class="observablehq-viewof-template"></div>
                  <div class="observablehq-viewof-drawTemplate"></div>
                </div>
                <div class="observablehq-chart"></div>
                <div style="display:flex">
                  <div class="observablehq-viewof-forceInABoxStrength"></div>
                  <div class="observablehq-viewof-linkStrengthIntraCluster"></div>
                  <div class="observablehq-viewof-linkStrengthInterCluster"></div>
                  <div class="observablehq-viewof-forceNodeSize"></div>
                  <div class="observablehq-viewof-forceCharge"></div>
                  <div class="observablehq-viewof-forceLinkDistance"></div>
                  <div class="observablehq-viewof-forceLinkStrength"></div>
                </div>
                <div style="overflow: hidden;"><a style="display: block; float:right;" href="https://observablehq.com/@john-guerra/force-in-a-box"><object type="image/svg+xml" style="pointer-events: none;" width=180 height=22 data="https://static.observableusercontent.com/files/c3fab254a006f1a3a1f9f63aba8ab1460db4752529036b9962950bde0ec195bab823daa6b278b1c3401e545b3bd640ddfdcad805cf9859af218cb2b9fed4ddf0"></object></a></div>
              </div>
              <script type="module">
                import {Runtime, Inspector, Library} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                import define from "https://api.observablehq.com/@john-guerra/force-in-a-box.js?v=3";
                const runtime = new Runtime(Object.assign(new Library, {width: document.querySelector("#observablehq-ca11e9c8 .observablehq-chart").clientWidth-200}))
                runtime.module(define, name => {
                  if (name === "viewof useGroupInABox") return Inspector.into("#observablehq-ca11e9c8 .observablehq-viewof-useGroupInABox")();
                  if (name === "viewof template") return Inspector.into("#observablehq-ca11e9c8 .observablehq-viewof-template")();
                  if (name === "viewof drawTemplate") return Inspector.into("#observablehq-ca11e9c8 .observablehq-viewof-drawTemplate")();
                  if (name === "chart") return Inspector.into("#observablehq-ca11e9c8 .observablehq-chart")();
                  if (name === "viewof forceInABoxStrength") return Inspector.into("#observablehq-ca11e9c8 .observablehq-viewof-forceInABoxStrength")();
                  if (name === "viewof linkStrengthIntraCluster") return Inspector.into("#observablehq-ca11e9c8 .observablehq-viewof-linkStrengthIntraCluster")();
                  if (name === "viewof linkStrengthInterCluster") return Inspector.into("#observablehq-ca11e9c8 .observablehq-viewof-linkStrengthInterCluster")();
                  if (name === "viewof forceNodeSize") return Inspector.into("#observablehq-ca11e9c8 .observablehq-viewof-forceNodeSize")();
                  if (name === "viewof forceCharge") return Inspector.into("#observablehq-ca11e9c8 .observablehq-viewof-forceCharge")();
                  if (name === "viewof forceLinkDistance") return Inspector.into("#observablehq-ca11e9c8 .observablehq-viewof-forceLinkDistance")();
                  if (name === "viewof forceLinkStrength") return Inspector.into("#observablehq-ca11e9c8 .observablehq-viewof-forceLinkStrength")();
                });
              </script>
              
              
              
            </div>
          </section>
          <section>
            <h2>Use the Force!</h2>
          </section>
          <section class="full">
            <h3 class="demo">Beeswarm Plot</h3>
            <div class="demo">
              <div id="observablehq-836fbe16">
                <div class="observablehq-chart"></div>
                <div style="overflow: hidden;"><a style="display: block; float:right;" href="https://observablehq.com/@d3/beeswarm"><object type="image/svg+xml" style="pointer-events: none;" width=180 height=22 data="https://static.observableusercontent.com/files/c3fab254a006f1a3a1f9f63aba8ab1460db4752529036b9962950bde0ec195bab823daa6b278b1c3401e545b3bd640ddfdcad805cf9859af218cb2b9fed4ddf0"></object></a></div>
              </div>
              <script type="module">
                import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                import define from "https://api.observablehq.com/@d3/beeswarm.js?v=3";
                (new Runtime).module(define, name => {
                  if (name === "chart") return Inspector.into("#observablehq-836fbe16 .observablehq-chart")();
                });
              </script>
              
            </div>
          </section>
          <section class="full">
            <h3 class="demo">Collision Detection</h3>
            <div class="demo">
              <div id="observablehq-cbc82575">
                <div class="observablehq-viewof-restart"></div>
                <div class="observablehq-chart"></div>
                <div style="overflow: hidden;"><a style="display: block; float:right;" href="https://observablehq.com/@john-guerra/collision-detection"><object type="image/svg+xml" style="pointer-events: none;" width=180 height=22 data="https://static.observableusercontent.com/files/c3fab254a006f1a3a1f9f63aba8ab1460db4752529036b9962950bde0ec195bab823daa6b278b1c3401e545b3bd640ddfdcad805cf9859af218cb2b9fed4ddf0"></object></a></div>
              </div>
              <script type="module">
                import {Runtime, Inspector, Library} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                import define from "https://api.observablehq.com/@john-guerra/collision-detection.js?v=3";
                const runtime = new Runtime(Object.assign(new Library, {width: 500}))
                runtime.module(define, name => {
                  if (name === "viewof restart") return Inspector.into("#observablehq-cbc82575 .observablehq-viewof-restart")();
                  if (name === "chart") return Inspector.into("#observablehq-cbc82575 .observablehq-chart")();
                });
              </script>
              
              
            </div>
          </section>
          <section>
            <h2>D3 Force in the wild</h2>
            <figure><img src="../shared_images/us_federal_budget.png" alt="Four ways to slice Obama's 2013 Budget Proposal nytimes">
              <figcaption class="reference"><a href="https://archive.nytimes.com/www.nytimes.com/interactive/2012/02/13/us/politics/2013-budget-proposal-graphic.html">Four Ways to Slice Obama’s 2013 Budget Proposal</a></figcaption>
            </figure>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="adjacencyIdiom">
          <section>
            <h1>Matrix Representations</h1>
          </section>
          <section>
            <h2>Idiom: Adjacency Matrix View</h2>
            <div class="flex">
              <div class="half">
                <ul class="tiny">
                  <li class="fragment"><strong>Data:</strong> network
                    <ul>
                      <li>Transform into same data/encoding as heatmap</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Derived data:</strong> table from network
                    <ul>
                      <li>One quantitative attribute
                        <ul>
                          <li>Weighted edge between nodes</li>
                        </ul>
                      </li>
                      <li>Two categorical attributes: node list x 2</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Visual encoding:</strong>
                    <ul>
                      <li>Cell shows presence/absence of edge</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Tasks:</strong>
                    <ul>
                      <li>Identify clusters (topology)</li>
                      <li>Summarize topology/distribution</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Scalability:</strong>
                    <ul>
                      <li>1,000 nodes, one million edges</li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div class="half">
                <figure><img src="../shared_images/adjacency_matrix_explained.png" alt="Adjacency Matrix">
                  <figcaption class="reference">[NodeTrix: a Hybrid Visualization of Social Networks. Henry, Fekete, and McGuffin. IEEE TVCG (Proc. InfoVis) 13(6):1302-1309, 2007.]</figcaption>
                </figure>
                <figure><img src="../shared_images/adjacency_matrix_explained2.png" alt="Adjacency Matrix">
                  <figcaption class="reference">[Points of view: Networks. Gehlenborg and Wong. Nature Methods 9:115.]</figcaption>
                </figure>
              </div>
            </div>
          </section>
          <section data-background-iframe="https://bost.ocks.org/mike/miserables/"></section>
          <section>
            <div class="tiny"><a target="_blank" href="https://bost.ocks.org/mike/miserables/">https://bost.ocks.org/mike/miserables/</a></div>
          </section>
          <section>
            <h3>Connection vs. Adjacency Comparison</h3>
            <div class="flex">
              <div class="half">
                <ul class="tiny">
                  <li class="fragment"><strong>Adjacency matrix strengths:</strong>
                    <ul>
                      <li>Predictability, scalability, supports reordering</li>
                      <li>Some topology tasks trainable</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Node-link diagram strengths:</strong>
                    <ul>
                      <li>Topology understanding, path tracing</li>
                      <li>Intuitive, no training needed</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Empirical study:</strong>
                    <ul>
                      <li class="fragment">Node-link best for small networks</li>
                      <li class="fragment">Matrix best for large networks...
                        <ul>
                          <li>...if tasks don’t involve topological structure!</li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div class="half">
                <figure><img src="../shared_images/connection_vs_cliques.png" alt="connection vs cliques">
                  <figcaption class="reference"><a href="http://www.michaelmcguffin.com/courses/vis/patternsInAdjacencyMatrix.png">http://www.michaelmcguffin.com/courses/vis/patternsInAdjacencyMatrix.png</a></figcaption>
                </figure>
              </div>
            </div>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="otherNetworkIdioms">
          <section>
            <h1>Networks: Other Idioms</h1>
          </section>
          <section>
            <h2 class="demo">Chord Diagram</h2>
            <div class="left small">
              <ul class="small">
                <li>Data: networks (small number of nodes)</li>
                <li>Tasks: summarize connections; identify highest degree</li>
                <li>Considerations: usually good for origin to destination</li>
              </ul>
            </div>
            <div class="right"><img class="fill" data-src="../shared_images/chord.svg" alt="Chord Diagram">
              <div class="tiny"><a href="https://observablehq.com/@john-guerra/mouseover-chord-diagram">https://observablehq.com/@john-guerra/mouseover-chord-diagram</a></div>
            </div>
          </section>
          <section>
            <h2 class="demo">Edge Bundling</h2>
            <div class="left small">
              <ul class="small">
                <li>Data: networks</li>
                <li>Tasks: summarize common connections</li>
                <li>Considerations:
                  <ul class="small">
                    <li>Reduces cluttering</li>
                    <li>Requires computing time</li>
                    <li>Works with any link based idiom</li>
                  </ul>
                </li>
              </ul>
            </div>
            <div class="right"><img class="fill" data-src="../shared_images/edgeBundling.png" alt="Edge Bundling">
              <div class="tiny"><a href="https://observablehq.com/@d3/hierarchical-edge-bundling">https://observablehq.com/@d3/hierarchical-edge-bundling</a></div>
            </div>
          </section>
          <section>
            <h2 class="demo">Arc Diagram</h2>
            <div class="left small">
              <ul class="small">
                <li>Data: networks (few nodes)</li>
                <li>Tasks: summarize common connections.</li>
                <li>Considerations:
                  <ul class="small">
                    <li>Nodes' order matters.</li>
                    <li>Better with highly clustered data</li>
                  </ul>
                </li>
              </ul>
            </div>
            <div class="right"><img class="fill" data-src="../shared_images/arcDiagram.svg" alt="Arc Diagram">
              <div class="tiny"><a href="https://observablehq.com/@d3/arc-diagram">https://observablehq.com/@d3/arc-diagram</a></div>
            </div>
          </section>
          <section>
            <h2 class="demo">Hive Plots</h2>
            <div class="tiny"><a target="_blank" href="https://bost.ocks.org/mike/hive/">Hive Plots</a></div>
          </section>
          <section data-background-size="contain" data-background-iframe="https://bost.ocks.org/mike/hive/"></section>
          <section>
            <h2 class="demo">Semantic Substrates</h2>
            <div class="left small">
              <ul class="small">
                <li>Data: networks with many edges</li>
                <li>Task: summarize distribution of non network attribs</li>
                <li>Considerations:
                  <ul class="small">
                    <li>Easier to understand</li>
                    <li>Scale well</li>
                    <li>Edges on demand work best</li>
                  </ul>
                </li>
              </ul>
            </div>
            <div class="right">
              <figure><img class="fill" data-src="../shared_images/semanticSubstrates.gif" alt="Semantic Substrates">
                <figcaption class="reference"><a href="https://johnguerra.co/viz/influentials/story/?hashtag=DeepIndaba2019">https://johnguerra.co/viz/influentials/story/?hashtag=DeepIndaba2019</a></figcaption>
              </figure>
            </div>
          </section>
          <section><a href="https://www.twosixlabs.com/6-ways-visualize-graphs/"><img data-src="../shared_images/6waystovisualizegraphs.png" alt="Six ways of visualizing networks by Robert Gove">
              <figcaption class="reference">Robert Gove's Six ways of visualizing Networks</figcaption></a></section>
          <section>
            <h2>Idiom: Sankey Diagram</h2>
            <div class="flex">
              <div class="half">
                <ul>
                  <li class="fragment">Good for depicting flow</li>
                  <li class="fragment">Not that well-known</li>
                </ul>
              </div>
              <div class="half">
                <div class="div">
                  <div id="observablehq-2999d4d9">
                    <div class="observablehq-viewof-edgeColor"></div>
                    <div class="observablehq-viewof-align"></div>
                    <div class="observablehq-chart"></div>
                    <div style="overflow: hidden;"><a style="display: block; float:right;" href="https://observablehq.com/@d3/sankey-diagram"><object type="image/svg+xml" style="pointer-events: none;" width=180 height=22 data="https://static.observableusercontent.com/files/c3fab254a006f1a3a1f9f63aba8ab1460db4752529036b9962950bde0ec195bab823daa6b278b1c3401e545b3bd640ddfdcad805cf9859af218cb2b9fed4ddf0"></object></a></div>
                  </div>
                  <script type="module">
                    import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                    import define from "https://api.observablehq.com/@d3/sankey-diagram.js?v=3";
                    (new Runtime).module(define, name => {
                      if (name === "viewof edgeColor") return Inspector.into("#observablehq-2999d4d9 .observablehq-viewof-edgeColor")();
                      if (name === "viewof align") return Inspector.into("#observablehq-2999d4d9 .observablehq-viewof-align")();
                      if (name === "chart") return Inspector.into("#observablehq-2999d4d9 .observablehq-chart")();
                    });
                  </script>
                  
                  
                </div>
              </div>
            </div>
          </section>
          <section class="full">
            <h3 class="demo">Idiom: Parallel Sets</h3>
            <div class="demo">
              <div id="observablehq-c6a5e063">
                <div class="observablehq-viewof-tension"></div>
                <div class="observablehq-chart"></div>
                <div style="overflow: hidden;"><a style="display: block; float:right;" href="https://observablehq.com/@john-guerra/parallel-sets"><object type="image/svg+xml" style="pointer-events: none;" width=180 height=22 data="https://static.observableusercontent.com/files/c3fab254a006f1a3a1f9f63aba8ab1460db4752529036b9962950bde0ec195bab823daa6b278b1c3401e545b3bd640ddfdcad805cf9859af218cb2b9fed4ddf0"></object></a></div>
              </div>
              <script type="module">
                import {Runtime, Inspector, Library} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                import define from "https://api.observablehq.com/@john-guerra/parallel-sets.js?v=3";
                const runtime = new Runtime(Object.assign(new Library, {width: 700}))
                runtime.module(define, name => {
                  if (name === "viewof tension") return Inspector.into("#observablehq-c6a5e063 .observablehq-viewof-tension")();
                  if (name === "chart") return Inspector.into("#observablehq-c6a5e063 .observablehq-chart")();
                });
              </script>
            </div><a class="reference" href="https://observablehq.com/@john-guerra/parallel-sets">https://observablehq.com/@john-guerra/parallel-sets</a>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="networkStatistics">
          <section>
            <h1>Metrics and Statistics</h1>
          </section>
          <section>
            <h3>Simple Stuff</h3>
            <div class="left">
              <ul>
                <li>Number of nodes, number of edges</li>
                <li>Connected components: count of separate groups of nodes</li>
                <li>Graph density: percent of possible links that are present</li>
              </ul>
            </div>
            <div class="right">
              <figure><img class="fill" data-src="../shared_images/networks/1.png"></figure>
            </div>
          </section>
          <section>
            <h3>Degree Distribution</h3>
            <div class="left">
              <ul>
                <li>E.g., run “Average Degree” tab in Gephi</li>
                <li>For pure random networks: $P_k = e ^ { \langle k \rangle } \frac{ \langle k \rangle ^k}{k!}$</li>
                <li>For preferential attachment: $P_k ~\sim~ k ^ {-\gamma}$</li>
              </ul>
            </div>
            <div class="right">
              <figure><img class="fill" data-src="../shared_images/networks/3.png"></figure>
            </div>
          </section>
          <section>
            <h3>Path Length</h3>
            <div class="left">
              <ul>
                <li>E.g., run “Average Path Length” in Gephi</li>
                <li>The path length between nodes i and j defined as $d_{ij}$</li>
                <li>Average path length $\langle d_{ij} \rangle$</li>
                <li>Network diameter $d_\max = \max _{i,j} d_{ij}$</li>
              </ul>
            </div>
            <div class="right">
              <figure><img class="fill" data-src="../shared_images/networks/2.png"></figure>
            </div>
          </section>
          <section>
            <h3>Centrality</h3>
            <div class="left">
              <ul>
                <li>Betweenness centrality: number of shortest paths across node</li>
                <li>Degree centrality (node degree), also edge centrality (not in Gephi, use NetworkX)</li>
                <li>Eigenvector centrality $Ax = \lambda x$</li>
                <li>Closeness $d_{cl} = \left [  \sum _{ij}  d_{ij} ^ {-1} / n \choose 2 \right ] ^ {-1}$</li>
              </ul>
            </div>
            <div class="right">
              <figure><img class="fill" data-src="../shared_images/networks/4.png"></figure>
            </div>
          </section>
          <section>
            <h3>More Centrality</h3>
            <div>
              <ul>
                <li>PageRank, like eigenvector centrality, can be written as an eigenvalue problem: $$PR(p_i) = \frac{1-d}{N} + \sum _{p_j} \frac{PR(p_j)}{L(p_j)}$$</li>
              </ul>
            </div>
          </section>
          <section>
            <h3>Clustering</h3>
            <div class="left">
              <ul>
                <li>Watts and Strogatz measure: $$ C_1 = \left \langle \frac{\sum_{j_1,j_2\in N} a_{j_1j_2}}{k_i(k_i-1)/2} \right \rangle $$</li>
                <li>Newman (and Gephi): $$ C_2  = \frac{3 \times \textrm{triangles}}{\textrm{triples}} $$</li>
              </ul>
            </div>
            <div class="right">
              <figure><img class="fill" data-src="../shared_images/networks/5.png"></figure>
            </div>
          </section>
          <section>
            <h3>Modularity and Structure</h3>
            <figure><img class="fill" data-src="../shared_images/networks/6.png"></figure>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="networkTools">
          <section>
            <h1>Tools</h1>
          </section>
          <section>
            <h3>Tools That Contain Layout Algorithms</h3>
            <ul class="small">
              <li><a href="https://github.com/d3/d3-force">d3</a></li>
              <li><a href="https://networkx.github.io/">NetworkX</a></li>
              <li><a href="https://www.smrfoundation.org/nodexl/">NodeXL</a></li>
              <li><a href="https://gephi.org/">Gephi.</a></li>
              <li><a href="https://github.com/hackl/tikz-network">LaTeX (TikZ)</a></li>
              <li><a href="https://graphviz.org/">Graphviz (dot)</a></li>
            </ul>
          </section>
          <section>
            <h3>Combining Layouts and Visualization</h3>
            <p>Many possibilities: Connect any tools that can compute layouts to any other visualation tool. A few useful examples:</p>
            <ul class="small">
              <li>d3 + Vega-Lite (we've seen many d3!)</li>
              <li>NetworkX + Matplotlib (built-in)</li>
            </ul>
          </section>
          <section>
            <h3>NetworkX, Part I</h3>
            <div class="scrollable-slide"><img style="width: auto; max-height: 1000px;" data-src="../shared_images/networks/networkx1.png" alt="NetworkX Force"></div>
            <div class="tiny"><a target="_blank" href="https://github.com/andyreagan/MIDS_W209_Data_Visualization_Slides/blob/master/13/Exercises/Network-data.ipynb">notebook</a></div>
          </section>
          <section>
            <h3>NetworkX, Part II</h3>
            <div class="scrollable-slide"><img style="width: auto; max-height: 1000px;" data-src="../shared_images/networks/networkx2.png" alt="NetworkX Circle"></div>
          </section>
          <section>
            <h3>NetworkX, Part III</h3>
            <li>NetworkX has <a href="http://networkx.github.io/documentation/latest/gallery.html">a nice online gallery</a> of other, fancier drawings.</li>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="colorIntro">
          <section>
            <h1>Color</h1>
          </section>
          <section>
            <h3>Encode, Map, Color</h3><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/10_01_encode_map.png" alt="Encode Map Color">
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="colorDetail">
          <section>
            <h3>Categorical Color</h3><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/1.png">
          </section>
          <section>
            <h3>Decomposing Color</h3>
            <div class="left" style="width:65%;">
              <ul class="small">
                <li>First rule: do not talk about color!</li>
                <ul class="small">
                  <li>Color is confusing if treated as monolithic</li>
                </ul>
                <li>Decompose into three channels</li>
                <ul class="small">
                  <li>Ordered can show magnitude</li>
                  <ul class="small">
                    <li>Luminance: how bright</li>
                    <li>Saturation: how colorful</li>
                  </ul>
                  <li>Categorical can show identity</li>
                  <ul class="small">
                    <li>Hue: what color</li>
                  </ul>
                </ul>
                <li>Channels have different properties</li>
                <ul class="small">
                  <li>What they convey directly to perceptual system</li>
                  <li>How much they can convey: how many discriminable bins can we use?</li>
                </ul>
              </ul>
            </div>
            <div class="right" style="width:30%;"><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/2.png"></div>
          </section>
          <section>
            <h3>Spectral Sensitivity</h3><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/3.png">
          </section>
          <section>
            <h3>Luminance</h3>
            <div class="left">
              <ul class="small">
                <li>Need luminance for edge detection</li>
                <ul class="small">
                  <li>Fine-grained detail only visible through luminance contrast</li>
                  <li>Legible text requires luminance contrast!</li>
                </ul>
                <li>Intrinsic perceptual ordering</li>
              </ul>
            </div>
            <div class="right"><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/4.png"></div>
          </section>
          <section>
            <h3>Color Spaces</h3><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/6.png">
          </section>
          <section>
            <h3>Designing for Color Deficiency: Check with Simulator</h3><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/7.png">
          </section>
          <section>
            <h3>Designing for Color Deficiency: Avoid Encoding by Hue Alone</h3>
            <div class="left">
              <ul>
                <li>Redundantly encode.
                  <ul>
                    <li>Vary luminance.</li>
                    <li>Change shape.</li>
                  </ul>
                </li>
              </ul>
            </div>
            <div class="right"><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/8.png"></div>
          </section>
          <section>
            <h3>Color Deficiency: Reduces Color to Two Dimensions</h3><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/9.png">
          </section>
          <section>
            <h3>Designing for Color Deficiency: Blue-Orange is Safe</h3><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/10.png">
          </section>
          <section>
            <h3>Bezold Effect: Outlines Matter</h3><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/11.png">
          </section>
          <section>
            <h3>Relative Judgments: Color and Illumination</h3><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/12.png">
          </section>
          <section>
            <h3>Relative Judgments: Color and Illumination (cont.)</h3><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/13.png">
          </section>
          <section>
            <h3>Categorical Color: Limited Number of Discriminable Bins</h3>
            <div class="left">
              <ul>
                <li>Human perception built on relative comparisons
                  <ul>
                    <li>Great if color is contiguous</li>
                    <li>Suprisingly bad for absolute comparisons</li>
                  </ul>
                </li>
                <li>Noncontiguous small regions of color
                  <ul>
                    <li>Fewer bins than you want</li>
                    <li>Rule of thumb: 6-12 bins, including background and highlights</li>
                  </ul>
                </li>
              </ul>
            </div>
            <div class="right"><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/14.png"></div>
          </section>
          <section>
            <h3>Glyphs</h3>
            <div class="left">
              <ul>
                <li>Glyphs: composite objects
                  <ul>
                    <li>Internal structure with multiple marks</li>
                  </ul>
                </li>
                <li>Alternative to color encoding
                  <ul>
                    <li>Or coding with any single channel</li>
                  </ul>
                </li>
              </ul>
            </div>
            <div class="right"><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/15.png"></div>
          </section>
          <section>
            <h3>ColorBrewer</h3><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/16.png">
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="orderedColor">
          <section>
            <h2>Ordered Color</h2>
          </section>
          <section>
            <h3>Ordered Color: Rainbow is Poor Default</h3>
            <div class="left">
              <ul>
                <li>Problems:
                  <ul>
                    <li>Perceptually unordered</li>
                    <li>Perceptually nonlinear</li>
                  </ul>
                </li>
                <li>Benefits:
                  <ul>
                    <li>Fine-grained structure visible and nameable</li>
                  </ul>
                </li>
                <li>Alternative:
                  <ul>
                    <li>Large-scale structure: fewer hues</li>
                    <li>Fine structure: multiple hues with monotonically increasing luminance (vs. Viridis R/Python)</li>
                  </ul>
                </li>
              </ul>
            </div>
            <div class="right"><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/18.png"></div>
          </section>
          <section>
            <h3>Viridis</h3>
            <p>Colorful, perceptually uniform, colorblind-safe, monotonically-increasing luminance</p><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/19.png">
          </section>
          <section>
            <h3>Colormaps</h3>
            <div class="left"><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/21.png"></div>
            <div class="left"><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/25.png"></div>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="mapOther">
          <section>
            <h1>Map Other Channels</h1>
          </section>
          <section>
            <div class="scrollable-slide"><img style="width: auto; max-height: 1000px;" data-src="../shared_images/vad_book_alldiagrams/color/23.png"></div>
          </section>
          <section>
            <h3>Angle</h3><img style="max-height: 400px" data-src="../shared_images/vad_book_alldiagrams/color/24.png">
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="review">
          <section>
            <h2>What We Learned</h2>
            <ul class="small small">
              <li class="fragment">How to recognize, create, and store networks</li>
              <li class="fragment">Algorithms to visualize network data</li>
              <li class="fragment">How to use color</li>
            </ul>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
      </div>
    </div>
    <script src="../js/reveal.js"></script>
    <script src="../plugin/zoom/zoom.js"></script>
    <script src="../plugin/notes/notes.js"></script>
    <script src="../plugin/search/search.js"></script>
    <script src="../plugin/markdown/markdown.js"></script>
    <script src="../plugin/highlight/highlight.js"></script>
    <script src="../plugin/math/math.js"></script>
    <script>
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        hash: true,
        //- transition: "convex",
      
        //- width: "100%",
        //- height: "720px",
      
        math: {
          mathjax: 'https://cdn.jsdelivr.net/gh/mathjax/mathjax@2.7.8/MathJax.js',
          config: 'TeX-AMS_HTML-full',
        },
        plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight, RevealMath ]
      });
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.data-src=g;m.parentNode.insertBefore(a,m)
      })(window,document,"script","https://www.google-analytics.com/analytics.js","ga");
      
      ga("create", "UA-72531610-1", "auto");
      ga("send", "pageview");
    </script>
  </body>
</html>