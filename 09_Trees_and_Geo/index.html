<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Week 9 Trees and Geo. MIDS W209 Information Visualization Slides</title>
    <meta charset="utf-8">
    <meta name="author" content="John Alexis Guerra Gómez">
    <meta name="description" content="Week 9 Trees and Geo. MIDS W209 Information Visualization Slides">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fjalla+One|Raleway|PT+Sans+Narrow">
    <link rel="stylesheet" href="https://use.typekit.net/yjc0afr.css">
    <link rel="stylesheet" href="../plugin/highlight/monokai.css" id="highlight-theme">
    <link href="../css/reveal.css" rel="stylesheet">
    <link href="../css/theme/white.css" rel="stylesheet" id="theme">
    <link href="../css/style.css" rel="stylesheet">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1 class="title">Trees and Geo<br><small>MIDS W209: Information Visualization</small></h1>
          <div class="r-stretch"></div>
          <div class="tiny"><a href="https://johnguerra.co/" target="_blank"><strong> John Alexis Guerra Gómez</strong></a><span> |  john.guerra[at]gmail.com</span><a href="https://twitter.com/duto_guerra"> |  @duto_guerra</a><br><a href="https://andyreagan.com/" target="_blank"><strong> Andy Reagan</strong></a><span> |  andy[at]andyreagan.com</span><a href="https://twitter.com/andyreagan"> |  @andyreagan</a><br><a href="https://johnguerra.co/lectures/MIDS_W209_Information_Visualization/09_Trees_and_Geo/" target="_blank">https://johnguerra.co/lectures/MIDS_W209_Information_Visualization/09_Trees_and_Geo/</a></div>
          <div class="logo"><a href="https://datascience.berkeley.edu/"><img class="logo" src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></a></div>
          <div class="tiny">Partially based on<a href="https://www.cs.ubc.ca/~tmm/talks.html#minicourse14"> slides from Tamara Munzner</a></div>
        </section>
        <section id="outline">
          <section>
            <h2>What We Are Going to Learn</h2>
            <ul class="small">
              <li class="fragment">How to visualize Trees
                <ul>
                  <li class="fragment">Node-Link representations</li>
                  <li class="fragment">Containment representations</li>
                  <li class="fragment">Tree comparison</li>
                </ul>
              </li>
              <li class="fragment">How to visualize spatial
                <ul>
                  <li class="fragment">Geo</li>
                  <li class="fragment">Spatial</li>
                </ul>
              </li>
            </ul>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="trees">
          <section>
            <h1>Trees</h1>
          </section>
          <section>
            <h2>Tree Definition</h2>
            <ul class="small">
              <li>Set of nodes and links that express the parent-to-child relationship, where each node:</li>
              <ul class="small">
                <li>Is uniquely labeled in the tree</li>
                <li>Contains one or more numeric variables with values over time</li>
                <li>Contains one or more categorical attributes that may have more than one value</li>
              </ul>
            </ul>
          </section>
          <section>
            <h2>Types of Trees</h2><img class="demo" data-src="../shared_images/typesOfTrees.png" alt="Types of Trees">
          </section>
          <section>
            <h2>How Trees Are Stored</h2>
            <ul>
              <li class="fragment">JSON file</li>
              <li class="fragment">GraphML file</li>
              <li class="fragment">Table
                <ul>
                  <li class="fragment">Multiple attributes define hierarchy (e.g. state, city, neighborhood)</li>
                  <li class="fragment">One attribute defines hierarchy with a separator (e.g. California/San Francisco/Presidio)</li>
                  <li class="fragment">One attribute defines parent ID</li>
                </ul>
              </li>
            </ul>
          </section>
          <section>
            <h2>Treemap from Table</h2><a href="https://observablehq.com/@john-guerra/treemap-from-table">Treemap from table</a><br><a href="https://observablehq.com/@john-guerra/table-2-tree">Convert tables to trees</a>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="nodeLinkTrees">
          <section>
            <h1>Trees: Node-link</h1>
          </section>
          <section>
            <h2>Idiom: Radial Node-Link Tree</h2>
            <div class="flex">
              <div class="half">
                <ul class="small">
                  <li class="fragment"><strong>Data:</strong>
                    <ul>
                      <li>Tree</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Encoding:</strong>
                    <ul>
                      <li>Link connection marks</li>
                      <li>Point node marks</li>
                      <li>Radial axis orientation
                        <ul>
                          <li>Angular proximity: siblings</li>
                          <li>Distance from center: depth in tree</li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Task:</strong>
                    <ul>
                      <li>Understanding topology, following paths</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Scalability:</strong>
                    <ul>
                      <li>1,000 to 10,000 nodes</li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div class="half">
                <figure><img src="../shared_images/radial_tidy_tree.png" alt="Radial Tidy Tree">
                  <figcaption class="reference"><a href="https://observablehq.com/@d3/radial-tidy-tree">https://observablehq.com/@d3/radial-tidy-tree</a></figcaption>
                </figure>
              </div>
            </div>
          </section>
          <section>
            <div class="demo">
              <div id="observablehq-4532f6f7">
                <div class="observablehq-chart"></div>
                <div style="overflow: hidden;"><a style="display: block; float:right;" href="https://observablehq.com/@d3/tidy-tree"><object type="image/svg+xml" style="pointer-events: none;" width=180 height=22 data="https://static.observableusercontent.com/files/c3fab254a006f1a3a1f9f63aba8ab1460db4752529036b9962950bde0ec195bab823daa6b278b1c3401e545b3bd640ddfdcad805cf9859af218cb2b9fed4ddf0"></object></a></div>
              </div>
              <script type="module">
                import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                import define from "https://api.observablehq.com/@d3/tidy-tree.js?v=3";
                (new Runtime).module(define, name => {
                  if (name === "chart") return Inspector.into("#observablehq-4532f6f7 .observablehq-chart")();
                });
              </script>
              
              
            </div>
          </section>
          <section>
            <h2 class="demo">Cluster Dendograms Radial</h2>
            <div class="flex">
              <div class="half small">
                <ul class="small">
                  <li>Data: trees</li>
                  <li>Tasks: summarize common connections</li>
                  <li>Considerations:
                    <ul class="small">
                      <li>Harder to read</li>
                      <li>Better space usage</li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div class="half"><a href="https://observablehq.com/@d3/radial-dendrogram"><img data-src="../shared_images/radialDendogram.svg" alt="Radial Dendogram"><span class="tiny">https://observablehq.com/@d3/radial-dendrogram</span></a></div>
            </div>
          </section>
          <section>
            <h2 class="demo">Phylogenetic Trees</h2>
            <div class="half small">
              <ul class="small">
                <li>Data: tree of life</li>
                <li>Tasks: summarize common connections; identify clusters</li>
                <li>Considerations:
                  <ul class="small">
                    <li>Harder to read</li>
                    <li>Also works with other clusters' data</li>
                  </ul>
                </li>
              </ul>
            </div>
            <div class="half"><a href="https://observablehq.com/@mbostock/tree-of-life"><img data-src="../shared_images/phylogenetic.svg" alt="Phylogenetic"><span class="tiny">https://observablehq.com/@mbostock/tree-of-life</span></a></div>
          </section>
          <section>
            <h3 class="demo">Cluster Dendograms Cartesian</h3>
            <div class="demo">
              <div id="observablehq-6953522c">
                <div class="observablehq-chart"></div>
                <div style="overflow: hidden;"><a style="display: block; float:right;" href="https://observablehq.com/@d3/cluster-dendrogram"><object type="image/svg+xml" style="pointer-events: none;" width=180 height=22 data="https://static.observableusercontent.com/files/c3fab254a006f1a3a1f9f63aba8ab1460db4752529036b9962950bde0ec195bab823daa6b278b1c3401e545b3bd640ddfdcad805cf9859af218cb2b9fed4ddf0"></object></a></div>
              </div>
              <script type="module">
                import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                import define from "https://api.observablehq.com/@d3/cluster-dendrogram.js?v=3";
                (new Runtime).module(define, name => {
                  if (name === "chart") return Inspector.into("#observablehq-6953522c .observablehq-chart")();
                });
              </script>
              
              
            </div>
          </section>
          <section>
            <h3 class="demo">Force-Directed Tree</h3>
            <div class="demo">
              <div id="observablehq-2077934e">
                <div class="observablehq-chart"></div>
                <div style="overflow: hidden;"><a style="display: block; float:right;" href="https://observablehq.com/@d3/force-directed-tree"><object type="image/svg+xml" style="pointer-events: none;" width=180 height=22 data="https://static.observableusercontent.com/files/c3fab254a006f1a3a1f9f63aba8ab1460db4752529036b9962950bde0ec195bab823daa6b278b1c3401e545b3bd640ddfdcad805cf9859af218cb2b9fed4ddf0"></object></a></div>
              </div>
              <script type="module">
                import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                import define from "https://api.observablehq.com/@d3/force-directed-tree.js?v=3";
                (new Runtime).module(define, name => {
                  if (name === "chart") return Inspector.into("#observablehq-2077934e .observablehq-chart")();
                });
              </script>
              
            </div>
          </section>
          <section>
            <h2 class="demo">Collapsible Tree</h2>
            <div class="flex">
              <div class="half">
                <ul class="small">
                  <li>Data: tree/network</li>
                  <li>Tasks: navigate connections; locate nodes</li>
                  <li>Considerations:
                    <ul class="small">
                      <li>Great for larger datasets</li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div class="half">
                <div style="font-size:12pt">
                  <div id="observablehq-9bbd237e">
                    <div class="observablehq-chart"></div>
                    <div style="overflow: hidden;"><a style="display: block; float:right;" href="https://observablehq.com/@d3/collapsible-tree"><object type="image/svg+xml" style="pointer-events: none;" width=180 height=22 data="https://static.observableusercontent.com/files/c3fab254a006f1a3a1f9f63aba8ab1460db4752529036b9962950bde0ec195bab823daa6b278b1c3401e545b3bd640ddfdcad805cf9859af218cb2b9fed4ddf0"></object></a></div>
                  </div>
                  <script type="module">
                    import {Runtime, Inspector, Library} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                    import define from "https://api.observablehq.com/@d3/collapsible-tree.js?v=3";
                    const runtime = new Runtime(Object.assign(new Library, {width: document.querySelector("#observablehq-9bbd237e .observablehq-chart").clientWidth}))
                  
                    runtime.module(define, name => {
                      if (name === "chart") return Inspector.into("#observablehq-9bbd237e .observablehq-chart")();
                    });
                  </script>
                </div>
              </div>
            </div>
          </section>
          <section>
            <h3 class="demo">Spacetree</h3>
            <iframe class="blocks" data-src="https://philogb.github.io/jit/static/v20/Jit/Examples/Spacetree/example1.html"></iframe>
            <div class="tiny"><a target="_blank" href="https://philogb.github.io/jit/static/v20/Jit/Examples/Spacetree/example1.html">Spacetree: Tree Animation</a></div>
          </section>
          <section>
            <h3 class="demo">Spacetree (cont.)</h3><span><iframe width="853" height="480" data-src="https://www.youtube.com/embed/F7-vJBsFBWw" frameborder="0" allowful.smalllscreen></iframe></span>
            <div class="tiny"><a target="_blank" href="http://www.cs.umd.edu/hcil/spacetree/">SpaceTree: a novel node-link tree browser</a></div>
          </section>
          <section>
            <h3 class="demo">Degree of Interest Tree</h3><span><iframe width="853" height="480" data-src="https://www.youtube.com/embed/RTQ0N4QY0yc" frameborder="0" allowful.smalllscreen></iframe></span>
            <div class="tiny"><a target="_blank" href="http://vis.stanford.edu/papers/doitrees-revisited">DOITrees Revisited: Scalable, Space-Constrained Visualization of Hierarchical Data</a></div>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="treesContainment">
          <section>
            <h1>Trees: Containment</h1>
          </section>
          <section class="full">
            <h3 class="demo">Idiom: Treemap</h3>
            <div class="flex">
              <div class="third">
                <ul class="tiny">
                  <li class="fragment"><strong>Data:</strong>
                    <ul>
                      <li>Tree</li>
                      <li>One quantitative attribute at leaf nodes</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Encoding:</strong>
                    <ul>
                      <li>Area containment marks for hierarchical structure</li>
                      <li>Rectilinear orientation</li>
                      <li>Area encodes quantitative attribute</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Tasks:</strong>
                    <ul>
                      <li>Query attribute at leaf nodes</li>
                    </ul>
                  </li>
                  <li class="fragment"><strong>Scalability:</strong>
                    <ul>
                      <li>One million leaf nodes</li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div class="twothirds">
                <div>
                  <div id="observablehq-745bb744">
                    <div class="observablehq-viewof-tile"></div>
                    <div class="observablehq-chart"></div>
                    <div style="overflow: hidden;"><a style="display: block; float:right;" href="https://observablehq.com/@d3/treemap"><object type="image/svg+xml" style="pointer-events: none;" width=180 height=22 data="https://static.observableusercontent.com/files/c3fab254a006f1a3a1f9f63aba8ab1460db4752529036b9962950bde0ec195bab823daa6b278b1c3401e545b3bd640ddfdcad805cf9859af218cb2b9fed4ddf0"></object></a></div>
                  </div>
                  <script type="module">
                    import {Runtime, Inspector, Library} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                    import define from "https://api.observablehq.com/@d3/treemap.js?v=3";
                    const runtime = new Runtime(Object.assign(new Library, {width: document.querySelector("#observablehq-745bb744 .observablehq-chart").clientWidth}))
                  
                    const main = runtime.module(define, name => {
                      if (name === "viewof tile") return Inspector.into("#observablehq-745bb744 .observablehq-viewof-tile")();
                      if (name === "chart") return Inspector.into("#observablehq-745bb744 .observablehq-chart")();
                    });
                    main.redefine("height", 700);
                  </script>
                  
                  
                </div>
              </div>
            </div>
          </section>
          <section class="full">
            <h3>Link Marks: Connection and Containment</h3>
            <div class="flex">
              <div class="half">
                <ul class="small">
                  <li class="fragment">Marks as links (vs. nodes):</li>
                  <ul>
                    <li class="fragment">Common case in network drawing</li>
                    <li class="fragment">1D case: connection
                      <ul>
                        <li>Example: all node-link diagrams</li>
                        <li>Emphasizes topology, path tracing</li>
                        <li>Networks and trees</li>
                      </ul>
                    </li>
                    <li class="fragment">2D case: containment
                      <ul>
                        <li>Example: all treemap variants</li>
                        <li>Emphasizes attribute values at leaves (size coding)</li>
                        <li>Only trees</li>
                      </ul>
                    </li>
                  </ul>
                </ul>
              </div>
              <div class="half">
                <figure><img style="height:600px" src="../shared_images/connection_vs_containtment.png" alt="Connection vs Containment">
                  <figcaption class="refence">[Elastic Hierarchies: Combining Treemaps and Node-Link Diagrams. Dong, McGuffin, and Chignell. Proc. InfoVis 2005, p. 57-64.]</figcaption>
                </figure>
              </div>
            </div>
          </section>
          <section class="full">
            <div class="demo">
              <div id="observablehq-7f600597"></div>
              <script type="module">
              import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
              import define from "https://api.observablehq.com/@d3/cascaded-treemap.js?v=3";
              const inspect = Inspector.into("#observablehq-7f600597");
              (new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
              </script>
              
            </div>
          </section>
          <section>
            <figure><img src="../shared_images/mapOfTheMarket.png" alt="Map of the Market">
              <figcaption class="reference"><a href="https://finviz.com/map.ashx?t=sec">FinViz Stock Market Price changes</a></figcaption>
            </figure>
          </section>
          <section>
            <h2 class="demo">Icicle Tree</h2>
            <div class="flex">
              <div class="half">
                <ul class="small">
                  <li>Data: tree</li>
                  <li>Tasks: summarize values/hierarchy; navigate links</li>
                  <li>Considerations:
                    <ul class="small">
                      <li>Uses more space than the treemap</li>
                      <li>Better for labels</li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div class="half">
                <figure><img data-src="../shared_images/icicle.svg" alt="Icicle Tree">
                  <figcaption class="reference"><a href="https://observablehq.com/@d3/zoomable-icicle">https://observablehq.com/@d3/zoomable-icicle</a></figcaption>
                </figure>
              </div>
            </div>
          </section>
          <section>
            <h2 class="demo">Icicle Tree (cont.)</h2>
            <div class="flex">
              <div class="half">
                <ul class="small">
                  <li>Data: tree</li>
                  <li>Tasks: summarize values/hierarchy; navigate links; compare values in leaves</li>
                  <li>Considerations:
                    <ul class="small">
                      <li>Careful with small edges</li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div class="half">
                <figure><img data-src="../shared_images/variableSizeIcicle.svg" alt="Variable Size Icicle Tree">
                  <figcaption class="reference"><a href="https://observablehq.com/@john-guerra/zoomable-variable-size-icicle">https://observablehq.com/@john-guerra/zoomable-variable-size-icicle</a></figcaption>
                </figure>
              </div>
            </div>
          </section>
          <section>
            <h2 class="demo">Sunburst Tree</h2>
            <div class="flex">
              <div class="half">
                <ul class="small">
                  <li>Data: tree</li>
                  <li>Tasks: summarize values/hierarchy; navigate links</li>
                  <li>Considerations:
                    <ul class="small">
                      <li>Radial values are confusing</li>
                      <li>Fancy yet difficult animation</li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div class="half"><a href="https://observablehq.com/@d3/zoomable-sunburst"><img data-src="../shared_images/sunburst.svg" alt="Sunburst Tree"><span class="tiny">https://observablehq.com/@d3/zoomable-sunburst</span></a></div>
            </div>
          </section>
          <section>
            <h3 class="demo">Radial Treemap</h3>
            <figure><img data-src="../shared_images/circle_packing.png" alt="Radial Treemap">
              <figcaption class="reference"><a href="https://observablehq.com/@d3/circle-packing">https://observablehq.com/@d3/circle-packing</a></figcaption>
            </figure>
          </section>
          <section>
            <h3 class="demo">Kickstarter Projects</h3>
            <figure><img style="width:500px" data-src="../shared_images/all_kickstarter_projects.png" alt="All Kickstarter Projects">
              <figcaption class="reference"><a href="http://bl.ocks.org/john-guerra/38b1c32154905828f019f35a026b7526/21c8c72f9b8f2009f448d979509948ea27a7c614">http://bl.ocks.org/john-guerra/38b1c32154905828f019f35a026b7526/21c8c72f9b8f2009f448d979509948ea27a7c614</a></figcaption>
            </figure>
          </section>
          <section>
            <h2>Tree Drawing Idioms Comparison</h2>
            <div class="flex">
              <div class="half">
                <ul class="small">
                  <li class="fragment">Data shown:
                    <ul>
                      <li>Link relationships</li>
                      <li>Tree depth</li>
                      <li>Sibling order</li>
                    </ul>
                  </li>
                  <li class="fragment">Design choices:
                    <ul>
                      <li>Connection vs. containment link marks</li>
                      <li>Rectilinear vs. radial layout</li>
                      <li>Spatial position channels</li>
                    </ul>
                  </li>
                  <li class="fragment">Considerations:
                    <ul>
                      <li>Redundant? Arbitrary?</li>
                      <li>Information density?</li>
                      <ul>
                        <li>Avoid wasting space</li>
                      </ul>
                    </ul>
                  </li>
                </ul>
              </div>
              <div class="half">
                <figure><img style="width:500px" data-src="../shared_images/tree_drawing_comparison.png" alt="tree_drawing_comparison">
                  <figcaption class="reference">[Quantifying the Space-Efficiency of 2D Graphical Representations of Trees. McGuffin and Robert. Information Visualization 9:2 (2010), 115–140.]</figcaption>
                </figure>
              </div>
            </div>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="treeComparison">
          <section>
            <h1>Tree Comparison</h1>
          </section>
          <section data-background-size="contain" data-background="../shared_images/typesofTreeComparison.png"></section>
          <section>
            <h3 class="demo">TreeVersity v2</h3>
            <figure>
              <video src="../shared_images/TreeVersity_Navigation.mp4" autoplay loop controls></video>
              <figcaption class="reference"><a target="_blank" href="https://treeversity.cattlab.umd.edu">https://treeversity.cattlab.umd.edu</a></figcaption>
            </figure>
          </section>
        </section>
        <section id="geo">
          <section>
            <h2>Visualizing Spatial Data</h2>
          </section>
          <section data-background-size="contain" data-background="../shared_images/vad_book_alldiagrams/08_tables-spatial.025.png"></section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section>
          <section>
            <h1>Geo</h1>
          </section>
          <section>
            <h2>Idiom: Choropleth Map</h2>
            <div class="flex">
              <div class="half">
                <ul>
                  <li class="fragment">Use given spatial data:</li>
                  <ul>
                    <li class="fragment">When central task is understanding spatial relationships</li>
                  </ul>
                  <li class="fragment">Data:</li>
                  <ul>
                    <li class="fragment">Geographic geometry</li>
                    <li class="fragment">Table with one quantitative attribute per region</li>
                  </ul>
                  <li class="fragment">Encoding:</li>
                  <ul>
                    <li class="fragment">Use given geometry for area mark boundaries</li>
                    <li class="fragment">Sequential segmented colormap</li>
                    <li class="fragment">Essentially, geographic heat map</li>
                  </ul>
                </ul>
              </div>
            </div>
          </section>
          <section>
            <h3 class="demo">Choropleth Map</h3>
            <div class="flex">
              <div class="third">
                <ul>
                  <li class="fragment">Familiar</li>
                  <li class="fragment">Areas encode... state area</li>
                </ul>
              </div>
              <div class="twothirds">
                <div id="observablehq-6b04a5b2"></div>
                <script type="module">
                import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                import define from "https://api.observablehq.com/@d3/choropleth.js?v=3";
                const inspect = Inspector.into("#observablehq-6b04a5b2");
                (new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
                </script>
                
              </div>
            </div>
          </section>
          <section>
            <h3 class="demo">Bivariate Choropleth Map</h3>
            <div>
              <div id="observablehq-745f68a6"></div>
              <script type="module">
              import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
              import define from "https://api.observablehq.com/@d3/bivariate-choropleth.js?v=3";
              const inspect = Inspector.into("#observablehq-745f68a6");
              (new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
              </script>
              
              
            </div>
          </section>
          <section>
            <h2>Idiom: Dot Map</h2>
            <div class="flex">
              <div class="third">
                <ul>
                  <li class="fragment">Good for population density</li>
                  <li class="fragment">Might require opengl</li>
                  <li class="fragment">Task summarize</li>
                </ul>
              </div>
              <div class="twothids" width="600px" height="600px">
                <div id="observablehq-12c2ba3e"></div>
                <script type="module">
                import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                import define from "https://api.observablehq.com/@aboutaaron/racial-demographic-dot-density-map.js?v=3";
                const inspect = Inspector.into("#observablehq-12c2ba3e");
                const main = new Runtime().module(define, name => {
                    if (name === "chart") {
                        return inspect();
                    }
                });
                main.redefine("dimensions", {width: 600, height: 600});
                </script>
                
              </div>
            </div>
          </section>
          <section>
            <h2>Idiom: Bubble Map</h2>
            <div class="flex">
              <div class="third">
                <ul>
                  <li class="fragment">Alternative for choropleth</li>
                  <li class="fragment">Be careful with occlusion</li>
                </ul>
              </div>
              <div class="twothirds">
                <div id="observablehq-76cbf6dc"></div>
                <script type="module">
                import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
                import define from "https://api.observablehq.com/@d3/bubble-map.js?v=3";
                const inspect = Inspector.into("#observablehq-76cbf6dc");
                const main = new Runtime().module(define, name => {
                    if (name === "chart") {
                        return inspect();
                    }
                });
                // main.redefine("dimensions", {width: 600, height: 600});
                </script>
                
                
              </div>
            </div>
          </section>
          <section>
            <h3 class="demo">U.S. Grid Map</h3>
            <div width="600px" height="600px">
              <div id="observablehq-f627f1c3"></div>
              <script type="module">
              import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
              import define from "https://api.observablehq.com/@john-guerra/us-grid-maps.js?v=3";
              const inspect = Inspector.into("#observablehq-f627f1c3");
              const main = new Runtime().module(define, name => name === "chart" ? inspect() : undefined);
              main.redefine("width", 800);
              </script>
              
              
            </div>
          </section>
          <section>
            <h2>Population Maps Trickiness</h2>
            <div class="flex">
              <ul>
                <li class="fragment">Beware!</li>
                <ul>
                  <li class="fragment">Absolute vs. relative again</li>
                </ul>
                <li class="fragment">Population density vs. per capita</li>
                <ul>
                  <li class="fragment">Investigate with <a href="http://public.tableau.com/profile/ben.jones#!/vizhome/PopVsFin/PopVsFin">Ben Jones Tableau Public demo</a></li>
                  <li class="fragment"> Are maps of financial variables just population maps?</li>
                  <ul>
                    <li class="fragment">Yes, unless you look at per capita (relative) numbers</li>
                  </ul>
                </ul>
              </ul>
            </div>
          </section>
          <section>
            <h2>Idiom: Bayesian Surprise Maps</h2>
            <div class="flex">
              <div class="half">
                <ul>
                  <li class="fragment">Use models of expectations to highlight surprising values</li>
                  <li class="fragment">Confounds (population) and variance (sparsity)</li>
                </ul>
              </div>
            </div>
          </section>
          <section>
            <h2>Bayesian Surprise Map</h2><img class="demo" data-src="../shared_images/bayesian-surprise.png" alt="Types of Trees">
            <div><a class="tiny" href="https://idl.cs.washington.edu/files/2017-SurpriseMaps-InfoVis.pdf">Surprise! Bayesian Weighting for De-Biasing Thematic Maps</a></div>
          </section>
          <section>
            <h2>Idiom: Topographic Map</h2>
            <div class="flex">
              <div class="half">
                <ul>
                  <li class="fragment">Data:</li>
                  <ul>
                    <li class="fragment">Geographic geometry</li>
                  </ul>
                  <li class="fragment">Scalar spatial field:</li>
                  <ul>
                    <li class="fragment">One quantitative attribute per grid cell</li>
                  </ul>
                  <li class="fragment">Derived data:</li>
                  <ul>
                    <li class="fragment">Isoline geometry</li>
                    <ul>
                      <li class="fragment">Isocontours computed for specific levels of scalar values</li>
                    </ul>
                  </ul>
                </ul>
              </div>
            </div>
          </section>
          <section>
            <h2>Idiom: Cartogram</h2>
            <div class="flex">
              <div class="half">
                <ul>
                  <li class="fragment">Data:</li>
                  <ul>
                    <li class="fragment">Geographic geometry</li>
                    <li class="fragment">Continuous value at each geometry</li>
                  </ul>
                  <li class="fragment">Derived data:</li>
                  <ul>
                    <li class="fragment">New geographic geometry: many algorithm choices</li>
                  </ul>
                  <li class="fragment">Then encoded as choropleth</li>
                </ul>
              </div>
            </div>
          </section>
          <section>
            <h2>Cartogram 1</h2>
            <div>
              <div id="observablehq-78f5dd89"></div>
              <script type="module">
              import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
              import define from "https://api.observablehq.com/@d3/non-contiguous-cartogram.js?v=3";
              const inspect = Inspector.into("#observablehq-78f5dd89");
              (new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
              </script>
              
            </div>
          </section>
          <section>
            <h2>Cartogram 2</h2><img class="demo" data-src="../shared_images/cartogram-2.png" alt="Cartogram 2">
            <div><a class="tiny" href="https://www.pnas.org/content/pnas/101/20/7499.full.pdf">Diffusion-based method for producing density-equalizing maps</a></div>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section>
          <section>
            <h1>Spatial Data</h1>
          </section>
          <section>
            <h2>Idioms: Isosurfaces, Direct Volume Rendering</h2>
            <div class="flex">
              <ul>
                <li class="fragment">Data:</li>
                <ul>
                  <li class="fragment">Scalar spatial field</li>
                  <li class="fragment">One quantitative attribute per grid cell</li>
                </ul>
                <li class="fragment">Task:</li>
                <ul>
                  <li class="fragment">Shape understanding, spatial relationships</li>
                </ul>
                <li class="fragment">Isosurface:</li>
                <ul>
                  <li class="fragment">Derived data: isocontours computed for specific levels of scalar values</li>
                </ul>
                <li class="fragment">Direct volume rendering:</li>
                <ul>
                  <li class="fragment">Transfer function maps scalar values to color, opacity</li>
                  <ul>
                    <li class="fragment">No derived geometry</li>
                  </ul>
                </ul>
              </ul>
            </div>
          </section>
          <section>
            <h2>Isosurfaces Example</h2><img class="demo" data-src="../shared_images/isosurface.png" alt="Isosurfaces">
            <div><a class="tiny" href="https://arxiv.org/pdf/1710.01199.pdf">Two-dimensional dynamics of elasto-inertial turbulence and its role in polymer drag reduction</a></div>
          </section>
          <section>
            <h2>Vector and Tensor Fields</h2>
            <ul>
              <li class="fragment">Data:</li>
              <ul>
                <li class="fragment">Many attributes per cell</li>
              </ul>
              <li class="fragment">Idiom families:</li>
              <ul>
                <li class="fragment">Flow glyphs:</li>
                <ul>
                  <li class="fragment">Purely local</li>
                </ul>
                <li class="fragment">Geometric flow:</li>
                <ul>
                  <li class="fragment">Derived data from tracing particle trajectories</li>
                  <li class="fragment">Sparse set of seed points</li>
                </ul>
                <li class="fragment">Texture flow:</li>
                <ul>
                  <li class="fragment">Derived data, dense seeds</li>
                </ul>
                <li class="fragment">Feature flow:</li>
                <ul>
                  <li class="fragment">Global computation to detect features</li>
                  <li class="fragment">Encoded with one of methods above</li>
                </ul>
              </ul>
            </ul>
          </section>
          <section>
            <h2>Vector Fields</h2>
            <div class="flex">
              <ul>
                <li class="fragment">Empirical study tasks:</li>
                <ul>
                  <li class="fragment">Finding critical points, identifying their types</li>
                  <li class="fragment">Identifying what type of critical point is at a specific location</li>
                  <li class="fragment">Predicting where a particle starting at a specified point will end up (advection)</li>
                </ul>
              </ul>
            </div>
          </section>
          <section>
            <h2>Vector Field Example</h2><img class="demo" data-src="../shared_images/lorenz-vectors.png" alt="Lorenz vectors">
          </section>
          <section>
            <h2>Name That Dynamical System</h2><img class="demo" data-src="../shared_images/lorenz.jpeg" alt="Lorenz">
          </section>
          <section>
            <h3>Idiom: Similarity-Clustered Streamlines</h3>
            <ul>
              <li class="fragment">Data:</li>
              <ul>
                <li class="fragment">3D vector field</li>
              </ul>
              <li class="fragment">Derived data (from field):</li>
              <ul>
                <li class="fragment">Streamlines: trajectory particle will follow</li>
              </ul>
              <li class="fragment">Derived data (per streamline):</li>
              <ul>
                <li class="fragment">Curvature, torsion, tortuosity</li>
                <li class="fragment">Signature: complex weighted combination</li>
                <li class="fragment">Compute cluster hierarchy across all signatures</li>
                <li class="fragment">Encode: color and opacity by cluster</li>
              </ul>
              <li class="fragment">Task:</li>
              <ul>
                <li class="fragment">Find features, query shape</li>
              </ul>
              <li class="fragment">Scalability:</li>
              <ul>
                <li class="fragment">Millions of samples, hundreds of streamlines</li>
              </ul>
            </ul>
          </section>
          <section>
            <h2>Streamlines</h2><img class="demo" data-src="../shared_images/wind-map.png" alt="Wind Map">
            <div class="tiny"><a href="http://hint.fm/wind/">Original inspiration</a></div>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section>
          <section>
            <h2>Map Libraries</h2>
            <ul>
              <li><a target="_blank" href="http://mapbox.com/">Mapbox</a></li>
              <li><a target="_blank" href="http://leafletjs.com/">Leaflet</a></li>
              <li><a target="_blank" href="http://datamaps.github.io/">DataMaps</a></li>
              <li><a target="_blank" href="https://github.com/emeeks/d3-carto-map">d3-carto-map</a></li>
            </ul>
          </section>
          <section>
            <h3>Mapbox and Tableau</h3><a href="https://www.mapbox.com/tableau/">Maps in Tableau</a>
          </section>
          <section>
            <h2>Mapbox + Tableau examples</h2>
          </section>
          <section>
            <h3 class="demo">Votos Fajardo</h3><a class="tiny" href="https://public.tableau.com/profile/john.alexis.guerra.g.mez#!/vizhome/votosFajardo2/Fajardo">votosFajardo2</a>
            <div class="blocks">
              <div class='tableauPlaceholder' id='viz1568758234721' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;NG&#47;NGCWHPJM6&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='path' value='shared&#47;NGCWHPJM6' /> <param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;NG&#47;NGCWHPJM6&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>
              <script type='text/javascript'>                    var divElement = document.getElementById('viz1568758234721');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height='600px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
              
              
            </div>
          </section>
          <section>
            <h3 class="demo">Votos Concejo</h3><a class="tiny" href="https://public.tableau.com/profile/john.alexis.guerra.g.mez#!/vizhome/votosConcejo/Dashboard1">votosConcejo</a>
            <div class="blocks">
              <div class='tableauPlaceholder' id='viz1568758685092' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;vo&#47;votosConcejo&#47;Dashboard1&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='votosConcejo&#47;Dashboard1' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;vo&#47;votosConcejo&#47;Dashboard1&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1568758685092');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height='600px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
              
              
            </div>
          </section>
          <section>
            <h3 class="demo">Mapbox and d3</h3><a href="https://observablehq.com/@john-guerra/mapbox-d3">Mapbox d3</a>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section>
          <section>
            <h1>Maps with d3</h1>
          </section>
          <section>
            <h2 class="demo">Map Projections</h2>
            <iframe class="blocks" src="http://blockbuilder.org/mbostock/3711652"></iframe><a class="tiny" target="_blank" href="http://blockbuilder.org/mbostock/3711652">http://blockbuilder.org/mbostock/3711652</a>
          </section>
          <section>
            <h2 class="demo">Map Projections</h2>
            <iframe class="blocks" width="560" height="315" src="https://www.youtube.com/embed/kIID5FDi2JQ" frameborder="0" allowfullscreen></iframe>
          </section>
          <section>
            <h3>Mike's Maps Tutorial</h3><a href="https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c">Command-Line Cartography, Part 1</a>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section>
          <section>
            <h3>Vega-Lite Maps</h3><a href="https://observablehq.com/@vega/vega-lite-api">Vega-Lite API</a>
          </section>
          <section>
            <div><img src="../shared_images/UC_Berkeley_wordmark_cal_gold.png" alt="University Of California at Berkeley logo"></div>
          </section>
        </section>
        <section id="review">
          <section>
            <h2>What We Learned</h2>
            <ul class="small">
              <li class="fragment">How to visualize Trees
                <ul>
                  <li class="fragment">Node-Link representations</li>
                  <li class="fragment">Containment representations</li>
                  <li class="fragment">Tree comparison</li>
                </ul>
              </li>
              <li class="fragment">How to visualize spatial
                <ul>
                  <li class="fragment">Geo</li>
                  <li class="fragment">Spatial</li>
                </ul>
              </li>
            </ul>
          </section>
        </section>
      </div>
    </div>
    <script src="../js/reveal.js"></script>
    <script src="../plugin/zoom/zoom.js"></script>
    <script src="../plugin/notes/notes.js"></script>
    <script src="../plugin/search/search.js"></script>
    <script src="../plugin/markdown/markdown.js"></script>
    <script src="../plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.13.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite-api@0.11.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-tooltip@0.23.2"></script>
    <script>
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        hash: true,
        //- transition: "convex",
      
        //- width: "100%",
        //- height: "720px",
      
        plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight ]
      });
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,"script","https://www.google-analytics.com/analytics.js","ga");
      
      ga("create", "UA-72531610-1", "auto");
      ga("send", "pageview");
    </script>
  </body>
</html>